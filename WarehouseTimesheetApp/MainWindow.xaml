<Window x:Class="WarehouseTimesheetApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Складской табель" Height="900" Width="1500" MinHeight="780" MinWidth="1280" WindowStartupLocation="CenterScreen">
    <Grid Margin="18" Background="#040B1C">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="360"/>
            <ColumnDefinition Width="12"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" Style="{StaticResource CardPanelStyle}" Padding="16">
            <DockPanel>
                <StackPanel DockPanel.Dock="Top" Margin="0,0,0,12">
                    <TextBlock Text="Сотрудники" FontSize="26" FontWeight="SemiBold" Foreground="#F8FAFC"/>
                    <TextBlock Text="Данные сохраняются в SQLite автоматически" Foreground="{StaticResource MutedTextBrush}" Margin="0,2,0,0"/>
                </StackPanel>

                <StackPanel DockPanel.Dock="Bottom" Margin="0,12,0,0">
                    <TextBlock Text="Имя"/>
                    <TextBox x:Name="NameTextBox" />

                    <TextBlock Text="Склад" Margin="0,8,0,0"/>
                    <TextBox x:Name="WarehouseTextBox" Text="Основной склад"/>

                    <TextBlock Text="Смена" Margin="0,8,0,0"/>
                    <TextBox x:Name="ShiftNameTextBox" Text="Дневная"/>

                    <TextBlock Text="Дневная ставка (₽)" Margin="0,8,0,0"/>
                    <TextBox x:Name="DailyRateTextBox" Text="0"/>

                    <TextBlock Text="Почасовая ставка (₽)" Margin="0,8,0,0"/>
                    <TextBox x:Name="HourlyRateTextBox" Text="0"/>

                    <CheckBox x:Name="UseHourlyRateCheckBox" Content="Использовать почасовую ставку" Margin="4,10,4,4"/>

                    <WrapPanel Margin="0,10,0,0">
                        <Button Content="Добавить" Width="102" Click="OnAddEmployee"/>
                        <Button Content="Обновить" Width="102" Click="OnUpdateEmployee"/>
                        <Button Content="Удалить" Width="102" Click="OnDeleteEmployee"/>
                    </WrapPanel>
                </StackPanel>

                <ListBox x:Name="EmployeesListBox" SelectionChanged="OnEmployeeSelectionChanged" />
            </DockPanel>
        </Border>

        <Border Grid.Column="2" Style="{StaticResource CardPanelStyle}" Padding="16">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="210"/>
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Margin="0,0,0,10">
                    <TextBlock Text="Табель и расчёт зарплаты" FontSize="32" FontWeight="Bold" Foreground="#F8FAFC" Margin="0,0,0,8"/>

                    <WrapPanel Margin="0,0,0,8">
                        <TextBlock Text="Месяц:" VerticalAlignment="Center" Margin="4"/>
                        <DatePicker x:Name="MonthDatePicker" SelectedDateChanged="OnMonthChanged" Width="175"/>

                        <TextBlock Text="Часов в смене (глобально):" VerticalAlignment="Center" Margin="20,4,4,4"/>
                        <TextBox x:Name="GlobalHoursTextBox" Width="90" Text="8" TextChanged="OnGlobalHoursChanged"/>
                    </WrapPanel>

                    <Border Background="#0D1A34" BorderBrush="#334155" BorderThickness="1" CornerRadius="12" Padding="14" Margin="0,0,0,10">
                        <StackPanel>
                            <TextBlock x:Name="SalaryTextBlock" FontSize="26" FontWeight="Bold" Foreground="#E2E8F0" />
                            <TextBlock x:Name="SalaryDetailsTextBlock" FontSize="14" Foreground="{StaticResource MutedTextBrush}" Margin="0,4,0,0" TextWrapping="Wrap" />
                        </StackPanel>
                    </Border>

                    <UniformGrid x:Name="WeekHeaderGrid" Columns="7" Margin="0,0,0,6"/>
                </StackPanel>

                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Background="#081127" Padding="4" BorderBrush="#2D3E63" BorderThickness="1" Margin="0,0,0,10">
                    <UniformGrid x:Name="CalendarGrid" Columns="7"/>
                </ScrollViewer>

                <Border Grid.Row="2" Background="#0A1733" BorderBrush="#334155" BorderThickness="1" CornerRadius="12" Padding="12">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="Отчёты по складам / сменам / периодам" FontSize="18" FontWeight="SemiBold"/>

                        <WrapPanel Grid.Row="1" Margin="0,8,0,8">
                            <TextBlock Text="Период с:" VerticalAlignment="Center" Margin="4"/>
                            <DatePicker x:Name="ReportFromDatePicker" Width="165"/>
                            <TextBlock Text="по:" VerticalAlignment="Center" Margin="8,4,4,4"/>
                            <DatePicker x:Name="ReportToDatePicker" Width="165"/>
                            <Button Content="Сформировать отчёт" Width="190" Click="OnBuildReport" Margin="12,0,0,0"/>
                        </WrapPanel>

                        <TextBox Grid.Row="2" x:Name="ReportTextBox" TextWrapping="Wrap" AcceptsReturn="True" IsReadOnly="True" VerticalScrollBarVisibility="Auto" Background="#061126" Foreground="#DDE7FF"/>
                    </Grid>
                </Border>
            </Grid>
        </Border>
    </Grid>
</Window>
