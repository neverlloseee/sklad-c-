# Складской табель сотрудников (WPF, C#)

Этот проект — готовая desktop-программа табеля для склада под **Visual Studio 2026** и **.NET 10**.

## Почему выбран C# + WPF
- Это один из самых практичных стеков для внутренних Windows-программ.
- Нативная поддержка в Visual Studio: дизайнер, отладка, публикация.
- Удобно делать CRUD сотрудников, календарь и расчёты зарплаты.

---

## Пошагово для Visual Studio 2026 (русский интерфейс)

> Ниже инструкция именно под ваш сценарий: VS 2026 + .NET 10 + русский язык в Visual Studio.

### 0) Подготовка
1. Установите **Visual Studio 2026**.
2. При установке отметьте рабочую нагрузку:
   - **Разработка классических приложений .NET**.
3. В компонентах проверьте:
   - **.NET SDK 10.0**,
   - **Windows 10/11 SDK**.

---

### 1) Как создать проект с правильным названием
1. Откройте Visual Studio.
2. Нажмите **Создание проекта**.
3. В поиске шаблонов введите: `WPF`.
4. Выберите шаблон **Приложение WPF** (C#).
5. Нажмите **Далее**.
6. На шаге настройки укажите:
   - **Имя проекта**: `WarehouseTimesheetApp`
   - **Имя решения**: `WarehouseTimesheetApp`
   - **Расположение**: любая удобная папка
7. Нажмите **Далее**.
8. В поле фреймворка выберите **.NET 10.0 (Windows)**.
9. Нажмите **Создать**.

---

### 2) Как открыть уже готовый проект из этого репозитория
1. Откройте Visual Studio.
2. Нажмите **Открыть проект или решение**.
3. Перейдите в папку `WarehouseTimesheetApp`.
4. Выберите файл `WarehouseTimesheetApp.csproj`.
5. Дождитесь восстановления проекта.
6. Нажмите зелёную кнопку **Запуск** (или `F5`).

---

### 3) Что где находится (карта файлов)
- `WarehouseTimesheetApp/WarehouseTimesheetApp.csproj` — настройки WPF-проекта и целевой фреймворк `net10.0-windows`.
- `WarehouseTimesheetApp/App.xaml` — глобальная тема/стили.
- `WarehouseTimesheetApp/MainWindow.xaml` — основной экран (сотрудники + календарь + расчёт).
- `WarehouseTimesheetApp/MainWindow.xaml.cs` — логика табеля, кликов по дням и расчёта зарплаты.
- `WarehouseTimesheetApp/Models.cs` — модели (`Employee`, `DayMark`, `DayMarkState`).
- `WarehouseTimesheetApp/CustomDayDialog.*` — окно «работал/не работал + доплата».
- `WarehouseTimesheetApp/HoursDialog.*` — окно «часы + доплата».

---

## Что уже реализовано
- Добавление / обновление / удаление сотрудников.
- Для сотрудника:
  - дневная ставка,
  - почасовая ставка,
  - переключатель режима расчёта (дневная/почасовая).
- Глобальное поле: «часов в смене».
- Календарь на месяц с циклом клика по дню:
  1. Работал (зелёный)
  2. Не работал (красный)
  3. Кастомный день (статус + доплата)
  4. Почасовой день (статус + часы + доплата)
  5. Следующий клик очищает день
- Расчёт зарплаты за выбранный месяц:
  - дневная ставка × отработанные смены,
  - либо почасовая ставка × часы,
  - плюс доплаты/подработки/переработки.

---

## Как работать в программе
1. Слева введите имя сотрудника и ставки.
2. Нажмите **Добавить**.
3. Выберите сотрудника в списке.
4. Справа выберите месяц.
5. Кликайте по дням в календаре:
   - 1-й клик: работал,
   - 2-й: не работал,
   - 3-й: окно доплаты,
   - 4-й: окно часов,
   - 5-й: очистка дня.
6. Сумма за месяц отображается над календарём.

---

## Если не запускается
- Проверьте, что установлен workload **Разработка классических приложений .NET**.
- Проверьте, что стартовый проект — `WarehouseTimesheetApp`.
- Проверьте Target Framework: `net10.0-windows`.

---


## Логи ошибок (добавлено)
- Теперь приложение пишет диагностические логи в файл, чтобы быстрее понимать причину падения.
- Путь к логам: `%LOCALAPPDATA%/WarehouseTimesheetApp/logs/`
- Формат: отдельный файл на запуск, например `errors_20260101_120000.log`.
- В лог попадают: тип исключения, сообщение, stack trace и контекст (месяц, сотрудник, часы смены и т.д.).

---

## Что можно добавить дальше
- Сохранение данных в SQLite (чтобы данные не терялись после закрытия).
- Экспорт табеля в Excel/PDF.
- Отчёты по складам/сменам/периодам.
- Роли и авторизация (админ/менеджер).
- Ещё более «премиум» UI (анимации, карточки, микроинтеракции).
